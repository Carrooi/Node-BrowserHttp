// Generated by CoffeeScript 1.7.1
(function() {
  var Snippets, hasAttr,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  hasAttr = function(el, name) {
    var attr;
    attr = el.getAttribute(name);
    return typeof attr !== 'undefined' && attr !== false;
  };

  Snippets = (function() {
    function Snippets() {
      this.success = __bind(this.success, this);
    }

    Snippets.APPEND_ATTRIBUTE = 'data-append';

    Snippets.prototype.success = function(response, request) {
      var el, html, id, _ref, _results;
      if (typeof response.data.snippets !== 'undefined') {
        _ref = response.data.snippets;
        _results = [];
        for (id in _ref) {
          html = _ref[id];
          el = document.getElementById(id);
          if (hasAttr(el, Snippets.APPEND_ATTRIBUTE)) {
            _results.push(this.appendSnippet(el, html));
          } else {
            _results.push(this.updateSnippet(el, html));
          }
        }
        return _results;
      }
    };

    Snippets.prototype.updateSnippet = function(el, html) {
      return el.innerHTML = html;
    };

    Snippets.prototype.appendSnippet = function(el, html) {
      return el.innerHTML += html;
    };

    return Snippets;

  })();

  module.exports = Snippets;

}).call(this);
